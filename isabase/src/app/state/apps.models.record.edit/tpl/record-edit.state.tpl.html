<div class="ui two column doubling stackable grid">
    <div class="eleven wide column">
        <div class="ui raised segment">
            <h2 class="ui header">
                {{ ctrl.record.$new ? 'recordNew' : 'recordEdit' | translate }}
                <div class="sub header">{{ ::ctrl.record.$new ? '' : ctrl.record.id }}</div>
            </h2>

            <div ui-popup="{inline: true}"
                 data-content="{{ 'model' | translate }}" data-position="left center"
                 class="ui absolute floated right ribbon blue label">{{ ctrl.model.name | capitalize }}
            </div>

            <isa-messages form="form" fields="ctrl.model.fields"></isa-messages>

            <form name="form" class="ui container stackable grid form margin top"
                  ng-submit="form.$valid && ctrl.save($event);" novalidate>

                <div ng-controller="RecordFieldCtrl as fieldCtrl" ng-include="'isabase-app/' + field.type + '.tpl.html'"
                     ng-repeat="field in ctrl.model.fields" class="row middle aligned">
                </div>

                <div class="row">
                    <div class="fourteen wide right floated column">
                        <button type="submit" class="ui labeled button icon" ng-class="{ green: form.$valid }">
                            <i class="save icon"></i>
                            {{ 'saveChanges' | translate }}
                        </button>
                        <a ng-click="navigation.back()" class="ui button">
                            {{ 'cancel' | translate }}
                        </a>
                        <a ng-click="ctrl.clear()" class="ui labeled button">
                            {{ 'clear' | translate }}
                        </a>
                    </div>
                </div>

            </form>

        </div>
    </div>

    <div class="five wide column" ng-include="'isabase-app/record-edit.sidebar.tpl.html'"></div>
</div>